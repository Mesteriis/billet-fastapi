# üîß –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –≤—Å–µ—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞ FastAPI —Å Messaging –∏ Realtime —Å–∏—Å—Ç–µ–º–∞–º–∏.

## üìã –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö

### üéØ –û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è            | –¢–∏–ø  | –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é        | –û–ø–∏—Å–∞–Ω–∏–µ                                   |
| --------------------- | ---- | ---------------------------- | ------------------------------------------ |
| `PROJECT_NAME`        | str  | `"Mango Message"`            | –ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞                           |
| `PROJECT_DESCRIPTION` | str  | `"API for messaging system"` | –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞                           |
| `VERSION`             | str  | `"1.0.0"`                    | –í–µ—Ä—Å–∏—è –ø—Ä–æ–µ–∫—Ç–∞                             |
| `API_V1_STR`          | str  | `"/api/v1"`                  | –ü—Ä–µ—Ñ–∏–∫—Å API v1                             |
| `TZ`                  | str  | `"Europe/Moscow"`            | –í—Ä–µ–º–µ–Ω–Ω–∞—è –∑–æ–Ω–∞                             |
| `DEBUG`               | bool | `false`                      | –†–µ–∂–∏–º –æ—Ç–ª–∞–¥–∫–∏                              |
| `TESTING`             | bool | `false`                      | –†–µ–∂–∏–º —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è                         |
| `ENVIRONMENT`         | str  | `"development"`              | –û–∫—Ä—É–∂–µ–Ω–∏–µ (development/staging/production) |

### üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö PostgreSQL

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è                | –¢–∏–ø  | –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é | –û–ø–∏—Å–∞–Ω–∏–µ                                 |
| ------------------------- | ---- | --------------------- | ---------------------------------------- |
| `POSTGRES_SERVER`         | str  | `"localhost"`         | –•–æ—Å—Ç PostgreSQL —Å–µ—Ä–≤–µ—Ä–∞                  |
| `POSTGRES_USER`           | str  | `"postgres"`          | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å PostgreSQL                  |
| `POSTGRES_PASSWORD`       | str  | `"postgres"`          | –ü–∞—Ä–æ–ª—å PostgreSQL                        |
| `POSTGRES_DB`             | str  | `"mango_msg"`         | –ù–∞–∑–≤–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö                     |
| `SQLALCHEMY_DATABASE_URI` | str  | `auto-generated`      | –ü–æ–ª–Ω—ã–π URI –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î              |
| `DB_POOL_SIZE`            | int  | `20`                  | –†–∞–∑–º–µ—Ä –ø—É–ª–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π                   |
| `DB_MAX_OVERFLOW`         | int  | `10`                  | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—É–ª–∞           |
| `DB_POOL_TIMEOUT`         | int  | `30`                  | –¢–∞–π–º–∞—É—Ç –ø—É–ª–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π (—Å–µ–∫)            |
| `DB_POOL_RECYCLE`         | int  | `1800`                | –í—Ä–µ–º—è –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π (—Å–µ–∫) |
| `DB_ECHO`                 | bool | `false`               | –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ SQL –∑–∞–ø—Ä–æ—Å–æ–≤                 |

### üî¥ Redis

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è       | –¢–∏–ø | –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é | –û–ø–∏—Å–∞–Ω–∏–µ                       |
| ---------------- | --- | --------------------- | ------------------------------ |
| `REDIS_HOST`     | str | `"localhost"`         | –•–æ—Å—Ç Redis —Å–µ—Ä–≤–µ—Ä–∞             |
| `REDIS_PORT`     | int | `6379`                | –ü–æ—Ä—Ç Redis —Å–µ—Ä–≤–µ—Ä–∞             |
| `REDIS_DB`       | int | `0`                   | –ù–æ–º–µ—Ä –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö Redis        |
| `REDIS_PASSWORD` | str | `null`                | –ü–∞—Ä–æ–ª—å –¥–ª—è Redis (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) |
| `REDIS_URL`      | str | `auto-generated`      | –ü–æ–ª–Ω—ã–π URI –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Redis |

### üê∞ RabbitMQ

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è          | –¢–∏–ø | –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é | –û–ø–∏—Å–∞–Ω–∏–µ                          |
| ------------------- | --- | --------------------- | --------------------------------- |
| `RABBITMQ_HOST`     | str | `"localhost"`         | –•–æ—Å—Ç RabbitMQ —Å–µ—Ä–≤–µ—Ä–∞             |
| `RABBITMQ_PORT`     | int | `5672`                | –ü–æ—Ä—Ç RabbitMQ —Å–µ—Ä–≤–µ—Ä–∞             |
| `RABBITMQ_USER`     | str | `"guest"`             | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å RabbitMQ             |
| `RABBITMQ_PASSWORD` | str | `"guest"`             | –ü–∞—Ä–æ–ª—å RabbitMQ                   |
| `RABBITMQ_VHOST`    | str | `"/"`                 | –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π —Ö–æ—Å—Ç RabbitMQ         |
| `RABBITMQ_URL`      | str | `auto-generated`      | –ü–æ–ª–Ω—ã–π URI –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ RabbitMQ |

### üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è                    | –¢–∏–ø | –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é    | –û–ø–∏—Å–∞–Ω–∏–µ                                |
| ----------------------------- | --- | ------------------------ | --------------------------------------- |
| `SECRET_KEY`                  | str | `"your-secret-key-here"` | **–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û:** –°–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á –¥–ª—è JWT |
| `ALGORITHM`                   | str | `"HS256"`                | –ê–ª–≥–æ—Ä–∏—Ç–º —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è JWT                 |
| `ACCESS_TOKEN_EXPIRE_MINUTES` | int | `30`                     | –í—Ä–µ–º—è –∂–∏–∑–Ω–∏ access —Ç–æ–∫–µ–Ω–∞ (–º–∏–Ω)         |
| `REFRESH_TOKEN_EXPIRE_DAYS`   | int | `30`                     | –í—Ä–µ–º—è –∂–∏–∑–Ω–∏ refresh —Ç–æ–∫–µ–Ω–∞ (–¥–Ω–∏)        |

#### Cookies

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è        | –¢–∏–ø  | –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é | –û–ø–∏—Å–∞–Ω–∏–µ                           |
| ----------------- | ---- | --------------------- | ---------------------------------- |
| `COOKIE_SECURE`   | bool | `true`                | Secure —Ñ–ª–∞–≥ –¥–ª—è cookies            |
| `COOKIE_SAMESITE` | str  | `"Lax"`               | SameSite –∞—Ç—Ä–∏–±—É—Ç cookies           |
| `COOKIE_MAX_AGE`  | int  | `3600`                | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –≤–æ–∑—Ä–∞—Å—Ç cookies (—Å–µ–∫) |

### üåê CORS

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è     | –¢–∏–ø       | –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é                                | –û–ø–∏—Å–∞–Ω–∏–µ                                  |
| -------------- | --------- | ---------------------------------------------------- | ----------------------------------------- |
| `CORS_ORIGINS` | list[str] | `["http://localhost:8000", "https://api.sh-inc.ru"]` | –†–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–µ CORS origins                  |
| `CORS_MAX_AGE` | int       | `600`                                                | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –≤–æ–∑—Ä–∞—Å—Ç CORS preflight (—Å–µ–∫) |

### üíæ –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è     | –¢–∏–ø | –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é | –û–ø–∏—Å–∞–Ω–∏–µ               |
| -------------- | --- | --------------------- | ---------------------- |
| `CACHE_TTL`    | int | `300`                 | –í—Ä–µ–º—è –∂–∏–∑–Ω–∏ –∫—ç—à–∞ (—Å–µ–∫) |
| `CACHE_PREFIX` | str | `"mango_msg:"`        | –ü—Ä–µ—Ñ–∏–∫—Å –∫–ª—é—á–µ–π –∫—ç—à–∞    |

### üö¶ Rate Limiting

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è              | –¢–∏–ø | –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é | –û–ø–∏—Å–∞–Ω–∏–µ                |
| ----------------------- | --- | --------------------- | ----------------------- |
| `RATE_LIMIT_PER_MINUTE` | int | `60`                  | –õ–∏–º–∏—Ç –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –º–∏–Ω—É—Ç—É |
| `RATE_LIMIT_PER_HOUR`   | int | `1000`                | –õ–∏–º–∏—Ç –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ —á–∞—Å    |

### üìä –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è         | –¢–∏–ø | –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é                                    | –û–ø–∏—Å–∞–Ω–∏–µ                              |
| ------------------ | --- | -------------------------------------------------------- | ------------------------------------- |
| `LOG_LEVEL`        | str | `"INFO"`                                                 | –£—Ä–æ–≤–µ–Ω—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è                   |
| `LOG_FORMAT`       | str | `"%(asctime)s - %(name)s - %(levelname)s - %(message)s"` | –§–æ—Ä–º–∞—Ç –ª–æ–≥–æ–≤                          |
| `LOG_FILE`         | str | `"app.log"`                                              | –§–∞–π–ª –¥–ª—è –∑–∞–ø–∏—Å–∏ –ª–æ–≥–æ–≤                 |
| `LOG_MAX_BYTES`    | int | `10485760`                                               | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ –ª–æ–≥–∞ (10MB) |
| `LOG_BACKUP_COUNT` | int | `5`                                                      | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ backup —Ñ–∞–π–ª–æ–≤ –ª–æ–≥–æ–≤        |

### üö® –ê–ª–µ—Ä—Ç—ã –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è            | –¢–∏–ø  | –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é | –û–ø–∏—Å–∞–Ω–∏–µ                  |
| --------------------- | ---- | --------------------- | ------------------------- |
| `ENABLE_ALERTS`       | bool | `false`               | –í–∫–ª—é—á–∏—Ç—å –∞–ª–µ—Ä—Ç—ã           |
| `ALERT_EMAIL`         | str  | `null`                | Email –¥–ª—è –∞–ª–µ—Ä—Ç–æ–≤         |
| `ALERT_SLACK_WEBHOOK` | str  | `null`                | Slack webhook –¥–ª—è –∞–ª–µ—Ä—Ç–æ–≤ |

### ‚öôÔ∏è –§–æ–Ω–æ–≤—ã–µ –∑–∞–¥–∞—á–∏

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è                | –¢–∏–ø  | –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é | –û–ø–∏—Å–∞–Ω–∏–µ                         |
| ------------------------- | ---- | --------------------- | -------------------------------- |
| `ENABLE_BACKGROUND_TASKS` | bool | `true`                | –í–∫–ª—é—á–∏—Ç—å —Ñ–æ–Ω–æ–≤—ã–µ –∑–∞–¥–∞—á–∏          |
| `MAX_BACKGROUND_WORKERS`  | int  | `4`                   | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–æ—Ä–∫–µ—Ä–æ–≤ |

### üîÑ TaskIQ

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è                  | –¢–∏–ø | –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é | –û–ø–∏—Å–∞–Ω–∏–µ                             |
| --------------------------- | --- | --------------------- | ------------------------------------ |
| `TASKIQ_BROKER_URL`         | str | `auto-generated`      | URL –±—Ä–æ–∫–µ—Ä–∞ TaskIQ (Redis DB 1)      |
| `TASKIQ_RESULT_BACKEND_URL` | str | `auto-generated`      | URL –±—ç–∫–µ–Ω–¥–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ (Redis DB 2) |
| `TASKIQ_MAX_RETRIES`        | int | `3`                   | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–≤—Ç–æ—Ä–æ–≤     |
| `TASKIQ_RETRY_DELAY`        | int | `5`                   | –ó–∞–¥–µ—Ä–∂–∫–∞ –º–µ–∂–¥—É –ø–æ–≤—Ç–æ—Ä–∞–º–∏ (—Å–µ–∫)       |
| `TASKIQ_TASK_TIMEOUT`       | int | `300`                 | –¢–∞–π–º–∞—É—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á–∏ (—Å–µ–∫)      |

### üìä –¢—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∞ (OpenTelemetry)

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è                    | –¢–∏–ø  | –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é | –û–ø–∏—Å–∞–Ω–∏–µ                             |
| ----------------------------- | ---- | --------------------- | ------------------------------------ |
| `TRACING_ENABLED`             | bool | `false`               | –í–∫–ª—é—á–∏—Ç—å —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫—É                 |
| `OTEL_EXPORTER_OTLP_ENDPOINT` | str  | `"localhost:4317"`    | Endpoint –¥–ª—è OTLP —ç–∫—Å–ø–æ—Ä—Ç–∞           |
| `OTEL_EXPORTER_OTLP_INSECURE` | bool | `true`                | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ |

### ü§ñ Telegram –±–æ—Ç—ã

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è              | –¢–∏–ø  | –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é | –û–ø–∏—Å–∞–Ω–∏–µ                |
| ----------------------- | ---- | --------------------- | ----------------------- |
| `TELEGRAM_BOTS_ENABLED` | bool | `false`               | –í–∫–ª—é—á–∏—Ç—å Telegram –±–æ—Ç–æ–≤ |
| `TELEGRAM_DEBUG`        | bool | `false`               | –†–µ–∂–∏–º –æ—Ç–ª–∞–¥–∫–∏ Telegram  |

### üîÑ WebSocket

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è                     | –¢–∏–ø  | –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é | –û–ø–∏—Å–∞–Ω–∏–µ                           |
| ------------------------------ | ---- | --------------------- | ---------------------------------- |
| `WEBSOCKET_ENABLED`            | bool | `true`                | –í–∫–ª—é—á–∏—Ç—å WebSocket                 |
| `WEBSOCKET_AUTH_REQUIRED`      | bool | `false`               | –¢—Ä–µ–±–æ–≤–∞—Ç—å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é           |
| `WEBSOCKET_HEARTBEAT_INTERVAL` | int  | `30`                  | –ò–Ω—Ç–µ—Ä–≤–∞–ª heartbeat (—Å–µ–∫)           |
| `WEBSOCKET_MAX_CONNECTIONS`    | int  | `1000`                | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π |
| `WEBSOCKET_MESSAGE_QUEUE_SIZE` | int  | `100`                 | –†–∞–∑–º–µ—Ä –æ—á–µ—Ä–µ–¥–∏ —Å–æ–æ–±—â–µ–Ω–∏–π           |
| `WEBSOCKET_DISCONNECT_TIMEOUT` | int  | `60`                  | –¢–∞–π–º–∞—É—Ç –æ—Ç–∫–ª—é—á–µ–Ω–∏—è (—Å–µ–∫)           |

### üì° Server-Sent Events (SSE)

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è               | –¢–∏–ø  | –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é | –û–ø–∏—Å–∞–Ω–∏–µ                            |
| ------------------------ | ---- | --------------------- | ----------------------------------- |
| `SSE_ENABLED`            | bool | `true`                | –í–∫–ª—é—á–∏—Ç—å SSE                        |
| `SSE_AUTH_REQUIRED`      | bool | `false`               | –¢—Ä–µ–±–æ–≤–∞—Ç—å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é            |
| `SSE_HEARTBEAT_INTERVAL` | int  | `30`                  | –ò–Ω—Ç–µ—Ä–≤–∞–ª heartbeat (—Å–µ–∫)            |
| `SSE_MAX_CONNECTIONS`    | int  | `500`                 | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π  |
| `SSE_RETRY_TIMEOUT`      | int  | `3000`                | –¢–∞–π–º–∞—É—Ç –ø–æ–≤—Ç–æ—Ä–∞ (–º—Å)                |
| `SSE_MAX_MESSAGE_SIZE`   | int  | `1048576`             | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä —Å–æ–æ–±—â–µ–Ω–∏—è (1MB) |

### üîê –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è WebSocket/SSE

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è              | –¢–∏–ø       | –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é    | –û–ø–∏—Å–∞–Ω–∏–µ                         |
| ----------------------- | --------- | ------------------------ | -------------------------------- |
| `WS_JWT_SECRET_KEY`     | str       | `"websocket-secret-key"` | –°–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á –¥–ª—è WebSocket JWT |
| `WS_JWT_ALGORITHM`      | str       | `"HS256"`                | –ê–ª–≥–æ—Ä–∏—Ç–º –¥–ª—è WebSocket JWT       |
| `WS_JWT_EXPIRE_MINUTES` | int       | `60`                     | –í—Ä–µ–º—è –∂–∏–∑–Ω–∏ WebSocket JWT (–º–∏–Ω)  |
| `WS_API_KEY_HEADER`     | str       | `"X-API-Key"`            | –ó–∞–≥–æ–ª–æ–≤–æ–∫ –¥–ª—è API –∫–ª—é—á–∞          |
| `WS_API_KEYS`           | list[str] | `[]`                     | –°–ø–∏—Å–æ–∫ —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã—Ö API –∫–ª—é—á–µ–π    |

## üöÄ –ë—ã—Å—Ç—Ä–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (.env)

```bash
# –û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
SECRET_KEY=your-super-secret-key-change-this-in-production
ENVIRONMENT=development

# –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
POSTGRES_PASSWORD=your-secure-password
POSTGRES_DB=your_app_name

# Redis (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
REDIS_PASSWORD=your-redis-password

# RabbitMQ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
RABBITMQ_PASSWORD=your-rabbitmq-password
```

### –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ (.env.development)

```bash
# –ù–∞—Å–ª–µ–¥—É–µ—Ç –±–∞–∑–æ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ + –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ
DEBUG=true
DB_ECHO=true
LOG_LEVEL=DEBUG
TRACING_ENABLED=true

# –†–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–µ CORS origins –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
CORS_ORIGINS=http://localhost:3000,http://localhost:8080,http://127.0.0.1:3000

# WebSocket/SSE –±–µ–∑ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
WEBSOCKET_AUTH_REQUIRED=false
SSE_AUTH_REQUIRED=false
```

### Production (.env.production)

```bash
# –û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
ENVIRONMENT=production
DEBUG=false

# –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
SECRET_KEY=your-production-secret-key-very-long-and-secure
COOKIE_SECURE=true
COOKIE_SAMESITE=Strict

# –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
DB_POOL_SIZE=50
DB_MAX_OVERFLOW=20
REDIS_PASSWORD=secure-redis-password

# –ê–ª–µ—Ä—Ç—ã
ENABLE_ALERTS=true
ALERT_EMAIL=admin@yourcompany.com
ALERT_SLACK_WEBHOOK=https://hooks.slack.com/services/...

# –¢—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∞
TRACING_ENABLED=true
OTEL_EXPORTER_OTLP_ENDPOINT=https://your-otel-collector:4317
OTEL_EXPORTER_OTLP_INSECURE=false

# –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å WebSocket/SSE
WEBSOCKET_AUTH_REQUIRED=true
SSE_AUTH_REQUIRED=true
WS_API_KEYS=api-key-1,api-key-2,api-key-3
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (.env.test)

```bash
# –¢–µ—Å—Ç–æ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
TESTING=true
ENVIRONMENT=test
DATABASE_URL=sqlite+aiosqlite:///./test.db

# –û—Ç–∫–ª—é—á–∞–µ–º –≤–Ω–µ—à–Ω–∏–µ —Å–µ—Ä–≤–∏—Å—ã
TRACING_ENABLED=false
ENABLE_ALERTS=false
TELEGRAM_BOTS_ENABLED=false

# –£—Å–∫–æ—Ä—è–µ–º —Ç–µ—Å—Ç—ã
ACCESS_TOKEN_EXPIRE_MINUTES=5
CACHE_TTL=10
```

## üìÅ –§–∞–π–ª—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
project/
‚îú‚îÄ‚îÄ .env                    # –û—Å–Ω–æ–≤–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ .env.example           # –ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ .env.development       # –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞
‚îú‚îÄ‚îÄ .env.staging           # Staging
‚îú‚îÄ‚îÄ .env.production        # Production
‚îú‚îÄ‚îÄ .env.test              # –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
‚îú‚îÄ‚îÄ telegram.env.example   # Telegram –±–æ—Ç—ã
‚îî‚îÄ‚îÄ websocket.env.example  # WebSocket/SSE
```

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –∑–∞–≥—Ä—É–∑–∫–∏

1. –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã
2. `.env.{ENVIRONMENT}` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `.env.production`)
3. `.env.local`
4. `.env`

## üîç –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö

–í—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤–∞–ª–∏–¥–∏—Ä—É—é—Ç—Å—è –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —á–µ—Ä–µ–∑ Pydantic Settings. –û—à–∏–±–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è —Å –ø–æ–º–æ—â—å—é SafeModel —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º –æ–ø–∏—Å–∞–Ω–∏–µ–º –ø—Ä–æ–±–ª–µ–º.

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ production

- `SECRET_KEY` - –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –¥–ª–∏–Ω–Ω—ã–º –∏ —É–Ω–∏–∫–∞–ª—å–Ω—ã–º
- `POSTGRES_PASSWORD` - –Ω–∞–¥–µ–∂–Ω—ã–π –ø–∞—Ä–æ–ª—å –¥–ª—è –ë–î
- `REDIS_PASSWORD` - –ø–∞—Ä–æ–ª—å –¥–ª—è Redis (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
- `RABBITMQ_PASSWORD` - –ø–∞—Ä–æ–ª—å –¥–ª—è RabbitMQ (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

1. **–ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∫–æ–º–º–∏—Ç—å—Ç–µ** —Ñ–∞–π–ª—ã `.env` –≤ —Å–∏—Å—Ç–µ–º—É –∫–æ–Ω—Ç—Ä–æ–ª—è –≤–µ—Ä—Å–∏–π
2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ **—Ä–∞–∑–Ω—ã–µ —Å–µ–∫—Ä–µ—Ç–Ω—ã–µ –∫–ª—é—á–∏** –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è
3. **–†–æ—Ç–∏—Ä—É–π—Ç–µ –∫–ª—é—á–∏** —Ä–µ–≥—É–ª—è—Ä–Ω–æ –≤ production
4. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ **–º–µ–Ω–µ–¥–∂–µ—Ä—ã —Å–µ–∫—Ä–µ—Ç–æ–≤** (HashiCorp Vault, AWS Secrets Manager)
5. **–û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–π—Ç–µ –¥–æ—Å—Ç—É–ø** –∫ —Ñ–∞–π–ª–∞–º –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (chmod 600)

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–∞–ª–∏–¥–Ω–æ—Å—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
python -c "from core.config import get_settings; print(get_settings())"

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î
python -c "from core.database import test_connection; asyncio.run(test_connection())"

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã
python -m src.cli check-services
```

## üìö –°–≤—è–∑–∞–Ω–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [README.md](../README.md) - –û—Å–Ω–æ–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- [APPS_STRUCTURE.md](APPS_STRUCTURE.md) - –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
- [tests/README.md](README_tests.md) - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é
- [docker-compose.yml](docker-compose.yml) - Docker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
